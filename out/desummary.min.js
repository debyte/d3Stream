!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(a){"use strict";var b={height:200,maxBandWidth:50,margin:{top:10,left:40,right:30,bottom:30},bandPadding:.2,histogramBands:25,ticksY:4};return $.extend(!0,{},b,a)}},{}],2:[function(a,b,c){b.exports=function(b,c,d){"use strict";function e(a,c,d){var e=$('<div class="summaryjs-field-display"></div>'),i=b.posts.data.map(g.pick(a.key)).filter(g.isNonEmpty);return e.append("<p>(N="+i.length+") "+(a.title||a.key)+"</p>"),g.isIn(a.type,["number"])?a.display=h.histogram(e[0],c,d,i):g.isIn(a.type,["radio","dropdown","checkbox"])?(a.options=f(a),a.display=h.bars(e[0],c,d,i,a.options)):g.isIn(a.type,["text","textarea"])&&(a.display=h.texts(e[0],c,d,i)),e}function f(a){var b=[].concat(a["enum"])||[],c=a.titleMap||{};return b.map(function(a){return{key:a,title:c[a]||a}})}for(var g=a("./utility.js"),h=a("./draw.js"),i=$('<div class="summaryjs-display"></div>'),j=b.fields.data,k=0;k<j.length;k++)"static"!=j[k].type&&i.append(e(j[k],c,d));return i}},{"./draw.js":3,"./utility.js":6}],3:[function(a,b,c){b.exports=function(b){"use strict";function c(a,c){return Math.min(a-b.margin.left-b.margin.right,c?c*b.maxBandWidth:a)}function d(a){return a-b.margin.top-b.margin.bottom}function e(a,c,d,e,f){var g=d3.select(a).append("svg").attr("class","d3").attr("width",c).attr("height",d);return g.append("g").attr("class","d3-plot").attr("transform","translate("+b.margin.left+","+b.margin.top+")"),e(f),{update:e}}function f(a,c,d,e,f){var g=d3.select(a).selectAll(".d3-plot");c.domain();return g.append("g").attr("transform","translate(0,"+f+")").call(d3.axisBottom(c).ticks(e)),g.append("g").call(d3.axisLeft(d).ticks(b.ticksY)),g}var g=a("./utility.js");return{histogram:function(a,h,i,j){function k(e){e=e.map(g.toNumber).filter(g.isNotNaN);var j=d3.min(e),k=d3.max(e),l=k-j,m=d3.histogram().domain([l>0?j:j-.5,l>0?k:k+.5]).thresholds(b.histogramBands)(e),n=c(h,m.length),o=d(i),p=d3.scaleLinear().range([0,n]).domain([d3.min(m,g.pick("x0")),d3.max(m,g.pick("x1"))]).nice(),q=d3.scaleLinear().range([o,0]).domain([0,d3.max(m,g.pick("length"))]),r=f(a,p,q,m.length,o);r.selectAll(".d3-bin").data(m).enter().append("rect").attr("class","d3-bin").attr("shape-rendering","crispEdges").attr("x",function(a){return p(a.x0)}).attr("y",function(a){return q(a.length)}).attr("width",function(a){return p(a.x1)-p(a.x0)}).attr("height",function(a){return o-q(a.length)}).exit().remove()}return e(a,h,i,k,j)},bars:function(a,h,i,j,k){function l(e){var j=g.countEach(g.splitEach(e,"|")),l=c(h,k.length),m=d(i),n=d3.scaleBand().range([0,l]).padding(b.bandPadding).domain(k.map(g.pick("title"))),o=d3.scaleLinear().range([m,0]).domain([0,d3.max(g.values(j))]),p=f(a,n,o,k.length,m);p.selectAll(".d3-bar").data(k).enter().append("rect").attr("class","d3-bar").attr("shape-rendering","crispEdges").attr("x",function(a){return n(a.title)}).attr("y",function(a){return o(j[a.key]||0)}).attr("width",n.bandwidth()).attr("height",function(a){return m-o(j[a.key]||0)}).exit().remove()}return e(a,h,i,l,j)},texts:function(a,b,c,d){function e(b){var c=$(a).find(".text-values");0===c.length?(c=$('<div class="text-values text-values-minimized"></div>'),c.append($('<a class="handle" href="#"><span class="glyphicon glyphicon-option-horizontal"></span></a>').on("click",f)),$(a).append(c)):c.empty();for(var d=[],e={},g=0;g<b.length;g++){var h=b[g],i=(e[h]||0)+1;e[h]=i,1===i&&d.push(h)}for(g=0;g<d.length;g++){var j=d[g],k=e[j],l=$("<pre></pre>");l.text(j),k>1&&l.append('<span class="count">x '+k+"</span>"),c.append(l)}}function f(a){a.preventDefault(),$(this).parent().toggleClass("text-values-minimized")}return e(d),{update:e}}}}},{"./utility.js":6}],4:[function(a,b,c){b.exports=function(a,b){"use strict";function c(c,e){if(c)return b(c);if(a.navigate)for(var f=a.navigate.split("."),g=0;g<f.length;g++){if(void 0===e[f[g]])return b("Failed to navigate data: "+f[g]);e=e[f[g]]}a.data=[].concat(e),d()}function d(){a.prepend&&(a.data=a.prepend.concat(a.data)),a.append&&(a.data=a.data.concat(a.append)),b()}a.data=a.data||[],a.url?"csv"==a.format?d3.csv(a.url,c):d3.json(a.url,c):d()}},{}],5:[function(a,b,c){window.deSummary=function(b,c){"use strict";function d(a){a&&console.log(a),i(h.posts,e)}function e(a){a&&console.log(a),f()}function f(){g.filter(".summaryjs-display").remove(),g.append(j(h,h.width||g.width(),h.height))}var g=$(b),h=a("./config.js")(c),i=a("./load.js"),j=a("./display.js");return i(h.fields,d),{model:h,redraw:f}}},{"./config.js":1,"./display.js":2,"./load.js":4}],6:[function(a,b,c){b.exports={toNumber:function(a){return parseFloat(a)},isNotNaN:function(a){return!isNaN(a)},isNonEmpty:function(a){return a&&(void 0===a.trim||""!==a.trim())},isIn:function(a,b){return b.indexOf(a)>=0},pick:function(a){return function(b){return b[a]}},values:function(a){var b=[];for(var c in a)b.push(a[c]);return b},splitEach:function(a,b){for(var c=[],d=0;d<a.length;d++)c=c.concat(a[d].split(b));return c},countEach:function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=(b[a[c]]||0)+1;return b}}},{}]},{},[5]);